const multipliers = [];
const crashRates = [];
const winRatesNerfados = [100.0, 91.34, 90.55, 89.33, 88.19, 87.26, 86.26, 85.33, 84.47, 83.82, 82.96, 82.18, 81.1, 80.31, 79.24, 78.45, 77.95, 77.74, 76.66, 75.73, 74.87, 74.3, 73.8, 73.01, 72.15, 71.51, 70.58, 69.94, 69.51, 68.86, 68.58, 68.0, 67.79, 67.5, 66.79, 66.43, 66.0, 65.43, 64.42, 63.71, 63.28, 62.28, 61.63, 61.27, 60.77, 60.34, 60.06, 59.63, 58.91, 58.63, 58.2, 57.84, 57.7, 57.19, 56.34, 55.91, 55.26, 55.05, 54.62, 54.33, 53.97, 53.69, 53.11, 52.76, 52.47, 52.25, 52.04, 51.9, 51.68, 51.18, 50.75, 50.54, 50.47, 50.25, 49.89, 49.68, 49.18, 48.68, 48.25, 48.17, 47.96, 47.75, 47.53, 47.03, 46.74, 46.39, 46.24, 46.03, 45.88, 45.6, 45.38, 45.1, 44.88, 44.6, 44.45, 44.17, 44.09, 43.95, 43.74, 43.38, 43.09, 42.95, 42.52, 42.38, 42.16, 41.8, 41.3, 41.16, 40.94, 40.66, 40.44, 40.3, 40.01, 39.94, 39.37, 39.3, 39.16, 38.73, 38.65, 38.44, 38.44, 38.15, 38.15, 37.8, 37.58, 37.44, 37.08, 37.08, 37.01, 36.72, 36.58, 36.44, 36.22, 36.08, 35.79, 35.5, 35.29, 35.15, 35.08, 34.86, 34.57, 34.43, 34.29, 34.0, 33.93, 33.72, 33.29, 33.14, 32.86, 32.86, 32.78, 32.64, 32.64, 32.5, 32.14, 32.0, 31.93, 31.93, 31.64, 31.35, 31.07, 30.99, 30.92, 30.85, 30.64, 30.64, 30.57, 30.49, 30.42, 30.35, 30.21, 29.92, 29.85, 29.78, 29.71, 29.63, 29.49, 29.42, 29.35, 29.06, 28.99, 28.78, 28.63, 28.56, 28.49, 28.27, 28.27, 28.2, 28.06, 28.06, 28.06, 28.06, 27.7, 27.56, 27.49, 27.34, 27.13, 26.84, 26.7, 26.41, 26.06, 25.98, 25.84, 25.84, 25.77, 25.77, 25.7, 25.63, 25.55, 25.55, 25.41, 25.34, 25.34, 25.13, 25.13, 24.91, 24.77, 24.62, 24.48, 24.48, 24.34, 24.19, 24.12, 24.05, 23.84, 23.84, 23.84, 23.77, 23.69, 23.55, 23.55, 23.48, 23.48, 23.34, 23.26, 23.19, 23.05, 22.91, 22.83, 22.83, 22.83, 22.76, 22.76, 22.69, 22.48, 22.33, 22.19, 22.19, 22.19, 22.19, 22.19, 21.98, 21.83, 21.83, 21.83, 21.69, 21.69, 21.62, 21.62, 21.47, 21.47, 21.33, 21.33, 21.26, 21.26, 21.26, 21.26, 21.05, 20.97, 20.97, 20.97, 20.83, 20.69, 20.62, 20.54, 20.54, 20.54, 20.47, 20.33, 20.33, 20.33, 20.26, 20.26, 20.19, 20.19, 20.04, 20.04, 19.9, 19.83, 19.76, 19.76, 19.76, 19.69, 19.69, 19.61, 19.54, 19.47, 19.47, 19.47, 19.4, 19.4, 19.4, 19.33, 19.26, 19.18, 18.97, 18.9, 18.9, 18.83, 18.75, 18.75, 18.75, 18.75, 18.61, 18.54, 18.54, 18.47, 18.47, 18.4, 18.4, 18.32, 18.25, 18.25, 18.11, 18.11, 18.11, 18.11, 18.11, 18.11, 18.04, 18.04, 17.97, 17.97, 17.9, 17.9, 17.75, 17.61, 17.54, 17.39, 17.25, 17.18, 17.04, 16.96, 16.89, 16.89, 16.89, 16.89, 16.82, 16.82, 16.68, 16.61, 16.54, 16.46, 16.32, 16.32, 16.32, 16.32, 16.32, 16.32, 16.32, 16.25, 16.03, 15.89, 15.82, 15.82, 15.82, 15.82, 15.82, 15.82, 15.82, 15.75, 15.6, 15.6, 15.6, 15.53, 15.53, 15.53, 15.46, 15.39, 15.39, 15.39, 15.39, 15.32, 15.32, 15.32, 15.25, 15.18, 15.18, 15.1, 15.1, 15.1, 15.1, 15.1, 15.03, 14.96, 14.89, 14.89, 14.89, 14.89, 14.89, 14.89];

// Inserir os multiplicadores no array
for (let i = 100; i <= 500; i++) {
    const multiplier = i / 100;
    multipliers.push(multiplier);
  }
  
  // Criar uma lista de crashRates para preencher 100% e usar como weights
  for (let i = 0; i < winRatesNerfados.length - 1; i++) {
    const crashRate = Math.round(winRatesNerfados[i] - winRatesNerfados[i + 1], 2);
    crashRates.push(crashRate);
  }
  
  crashRates.push(100 - crashRates.reduce((a, b) => a + b, 0));
  
  // Sortear um dos multipliers usando o array crashRates com as respectivas probabilidades para cada multiplier
  function simulateGame() {
    const randomValue = Math.random() * 100;
    let cumulativeProbability = 0;
  
    for (let i = 0; i < multipliers.length; i++) {
      cumulativeProbability += crashRates[i];
      if (randomValue <= cumulativeProbability) {
        return multipliers[i];
      }
    }
  
    return multipliers[multipliers.length - 1];
  }